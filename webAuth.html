<head />
<body>
  <div id="log">shamiko</div>
  <script>
    PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().then(r => document.getElementById("log").innerHTML = "可用：" + r)

    // Enrollment

    const options = {
        publicKey: {
            rp: { name: "github.io" },
            user: {
                name: "john.appleseed@example.com",
                id: new Uint8Array(26),
                displayName: "John Appleseed"
            },
            pubKeyCredParams: [ { type: "public-key", alg: -7 } ],
            challenge: new Uint8Array(26),
            authenticatorSelection: { authenticatorAttachment: "platform" },
            attestation: "direct"
        }
    };

    navigator.credentials.create(options).then(console.log,console.error);
  </script>
</body>
